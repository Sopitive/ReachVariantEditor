<!doctype html>
<html lang="en">

<head>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
<meta name="viewport" content="width=device-width">
<link rel="icon" type="image/x-icon" href="resources/favicon.ico">
<script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.6/highlight.min.js"></script>
<script src="https://sopitive.github.io/highlightjs-rvt-script/dist/rvt-script.min.js"></script>
<script>hljs.initHighlightingOnLoad();</script>
    <meta charset="UTF-8" />
    <title>object.face_toward | ReachVariantTool Documentation</title>
    <base href="../../../../" />
    <link rel="stylesheet" href="resources/main.css" />
    <noscript>
        <link rel="stylesheet" href="resources/noscript.css" />
    </noscript>
    <script src="resources/head.js"></script>
    <script>
        let resultX = ""
        let resultY = ""
        function changeNumbers() {
        let numbers = document.querySelectorAll(".hljs-number");
        numbers.forEach((number, index) => {
            if (index == 2) {
                number.innerHTML = resultX;
            } else if (index == 3) {
                number.innerHTML = resultY;
            }
        });
    }
    </script>
    <script>
        function sincos_int(deg) {
            let rad = deg * Math.PI / 180;
            //
            let list = [];
            for (let i = 1; i <= 127; ++i) {
                list.push({
                    mult: i,
                    x: Math.cos(rad) * i,
                    y: Math.sin(rad) * i,
                });
            }
            //
            let least_error = 999999;
            let least_error_item = list[1 - 1];
            console.assert(least_error_item.mult == 1);
            for (let item of list) {
                const USE_AVG = false;
                //
                let error = Math.abs(Math.round(item.x) - item.x) + Math.abs(Math.round(item.y) - item.y);
                if (USE_AVG)
                    error /= 2;
                if (error < least_error) {
                    least_error = error;
                    least_error_item = item;
                }
                resultX = Math.round(least_error_item.x);
                resultY = Math.round(least_error_item.y);
                changeNumbers();
            }
            return `Raw cos/sin: ${Math.cos(rad)}, ${Math.sin(rad)}

Multiplier with least error: ${least_error_item.mult}
Multiplied cos/sin:     ${least_error_item.x}, ${least_error_item.y}
Multiplied int cos/sin: ${Math.round(least_error_item.x)}, ${Math.round(least_error_item.y)}`;
        }
    </script>
</head>

<body>
<div class="header">
        <div class="dropdown">
            MCC Gametypers<i class="fa fa-caret-down"></i>
            <ul class="dropdown-content">
                <li>
                    <a href="https://discord.gg/Z2ZvPsCbcc">Discord</a>
                </li>
            </ul>
            
        </div>
        <div class="dropdown">
            The Anvil<i class="fa fa-caret-down"></i>
            <ul class="dropdown-content">
                <li>
                    <a href="https://discord.gg/kVN58A2ydm">Discord</a>
                </li>
                <li>
                    <a href="https://theanvil.net/forums/">Forums</a>
                </li>
                <li>
                    <a href="https://theanvil.net/maps/">Maps</a>
                </li>
                <li>
                    <a href="https://theanvil.net/mods/">Mods</a>
                </li>
            </ul>
            
        </div>
        <div class="dropdown">
            Halo Customs<i class="fa fa-caret-down"></i>
            <ul class="dropdown-content">
                <li>
                    <a href="https://halocustoms.com/discord">Discord</a>
                </li>
                <li>
                    <a href="https://halocustoms.com/maps/">Maps</a>
                </li>
                <li>
                    <a href="https://halocustoms.com/">Forums</a>
                </li>
                <li>
                    <a href="https://www.reddit.com/r/HaloCustoms/">Reddit</a>
                </li>
            </ul>
            
        </div>
        <div class="dropdown">
            Halo Mods<i class="fa fa-caret-down"></i>
            <ul class="dropdown-content">
                <li>
                    <a href="https://discord.gg/halomods">Discord</a>
                </li>
                <li>
                    <a href="https://www.reddit.com/r/halomods/">Reddit</a>
                </li>
                
            </ul>
        </div>
        <div class="dropdown fa fa-adjust">
            <div class="dropdown-content">
                <input id="dark-mode" name="dark-mode" type="checkbox">
                <label for="dark-mode">Dark Mode</label>
            </div>
        </div>
    </div>
    <nav id="sidebar">
        <ul>
            <li><a href="index.html">Index</a></li>
            <li><a href="script/api/index.html">Script API reference</a></li>
            <hr />
            <li data-disallow-collapse>
                <a href="script/api/object.html">Object</a>
                <ul>
                    <li data-delete-if-empty data-dont-default-collapse>
                        <a>Properties</a>
                        <ul>
                            <li><a href="script/api/object/properties/spawn_sequence.html">spawn_sequence</a></li>
                            <li><a href="script/api/object/properties/team.html">team</a></li>

                        </ul>
                    </li>
                    <li data-delete-if-empty data-dont-default-collapse>
                        <a>Accessors</a>
                        <ul>
                            <li><a href="script/api/object/accessors/health.html">health</a></li>
                            <li><a href="script/api/object/accessors/max_health.html">max_health</a></li>
                            <li><a href="script/api/object/accessors/max_shields.html">max_shields</a></li>
                            <li><a href="script/api/object/accessors/shields.html">shields</a></li>

                        </ul>
                    </li>
                    <li data-delete-if-empty data-dont-default-collapse>
                        <a>Member conditions</a>
                        <ul>
                            <li><a href="script/api/object/conditions/has_forge_label.html">has_forge_label</a></li>
                            <li><a href="script/api/object/conditions/is_in_use.html">is_in_use</a></li>
                            <li><a href="script/api/object/conditions/is_of_type.html">is_of_type</a></li>
                            <li><a href="script/api/object/conditions/is_out_of_bounds.html">is_out_of_bounds</a></li>
                            <li><a href="script/api/object/conditions/shape_contains.html">shape_contains</a></li>

                        </ul>
                    </li>
                    <li data-delete-if-empty data-dont-default-collapse>
                        <a>Member actions</a>
                        <ul>
                            <li><a href="script/api/object/actions/add_weapon.html">add_weapon</a></li>
                            <li><a href="script/api/object/actions/animate_device_position.html">animate_device_position</a></li>
                            <li><a href="script/api/object/actions/apply_shape_color_from_player_member.html">apply_shape_color_from_player_member</a></li>
                            <li><a href="script/api/object/actions/push_upward.html">apply_upward_impulse</a></li>
                            <li><a href="script/api/object/actions/attach_to.html">attach_to</a></li>
                            <li><a href="script/api/object/actions/copy_rotation_from.html">copy_rotation_from</a></li>
                            <li><a href="script/api/object/actions/delete.html">delete</a></li>
                            <li><a href="script/api/object/actions/detach.html">detach</a></li>
                            <li><a href="script/api/object/actions/enable_spawn_zone.html">enable_spawn_zone</a></li>
                            <li><a href="script/api/object/actions/face_toward.html">face_toward</a></li>
                            <li><a href="script/api/object/actions/try_get_carrier.html">get_carrier</a></li>
                            <li><a href="script/api/object/actions/get_device_position.html">get_device_position</a></li>
                            <li><a href="script/api/object/actions/get_device_power.html">get_device_power</a></li>
                            <li><a href="script/api/object/actions/get_distance_to.html">get_distance_to</a></li>
                            <li><a href="script/api/object/actions/get_orientation.html">get_orientation</a></li>
                            <li><a href="script/api/object/actions/get_speed.html">get_speed</a></li>
                            <li><a href="script/api/object/actions/kill.html">kill</a></li>
                            <li><a href="script/api/object/actions/place_at_me.html">place_at_me</a></li>
                            <li><a href="script/api/object/actions/place_between_me_and.html">place_between_me_and</a></li>
                            <li><a href="script/api/object/actions/push_upward.html">push_upward</a></li>
                            <li><a href="script/api/object/actions/remove_weapon.html">remove_weapon</a></li>
                            <li><a href="script/api/object/actions/set_device_actual_position.html">set_device_actual_position</a></li>
                            <li><a href="script/api/object/actions/set_device_animation_position.html">set_device_animation_position</a></li>
                            <li><a href="script/api/object/actions/set_device_position.html">set_device_position</a></li>
                            <li><a href="script/api/object/actions/set_device_power.html">set_device_power</a></li>
                            <li><a href="script/api/object/actions/set_garbage_collection_disabled.html">set_garbage_collection_disabled</a></li>
                            <li><a href="script/api/object/actions/set_invincibility.html">set_invincibility</a></li>
                            <li><a href="script/api/object/actions/set_pickup_permissions.html">set_pickup_permissions</a></li>
                            <li><a href="script/api/object/actions/set_progress_bar.html">set_progress_bar</a></li>
                            <li><a href="script/api/object/actions/set_scale.html">set_scale</a></li>
                            <li><a href="script/api/object/actions/set_shape.html">set_shape</a></li>
                            <li><a href="script/api/object/actions/set_shape_visibility.html">set_shape_visibility</a></li>
                            <li><a href="script/api/object/actions/set_spawn_location_fireteams.html">set_spawn_location_fireteams</a></li>
                            <li><a href="script/api/object/actions/set_spawn_location_permissions.html">set_spawn_location_permissions</a></li>
                            <li><a href="script/api/object/actions/set_waypoint_icon.html">set_waypoint_icon</a></li>
                            <li><a href="script/api/object/actions/set_waypoint_priority.html">set_waypoint_priority</a></li>
                            <li><a href="script/api/object/actions/set_waypoint_range.html">set_waypoint_range</a></li>
                            <li><a href="script/api/object/actions/set_waypoint_text.html">set_waypoint_text</a></li>
                            <li><a href="script/api/object/actions/set_waypoint_timer.html">set_waypoint_timer</a></li>
                            <li><a href="script/api/object/actions/set_waypoint_visibility.html">set_waypoint_visibility</a></li>
                            <li><a href="script/api/object/actions/set_weapon_pickup_priority.html">set_weapon_pickup_priority</a></li>
                            <li><a href="script/api/object/actions/try_get_carrier.html">try_get_carrier</a></li>

                        </ul>
                    </li>
                </ul>
            </li>
        </ul>
    </nav>
    <main>
        <header>
            <h1>object.face_toward</h1>
        </header>

        <p>
            This function can be used to make one object face toward another. It only affects the object's heading (yaw), not its pitch or roll rotations.
        </p>

        <h2>Arguments</h2>
        <dl>
            <dt><a href="script/api/object.html">other</a></dt>
            <dd>
                <p>
                    The object whose rotation should be copied.
                </p>
            </dd>
            <dt>x</dt>
            <dd>
                <p>
                    The X-coordinate of an offset-position. The object will rotate to face
                    <var>other</var>'s position plus the offset position. Allowed values are integer constants between -128 and 127, inclusive, where 10 is equal to one Forge unit.
                </p>
            </dd>
            <dt>y</dt>
            <dd>
                <p>
                    The Y-coordinate of an offset-position. The object will rotate to face
                    <var>other</var>'s position plus the offset position. Allowed values are integer constants between -128 and 127, inclusive, where 10 is equal to one Forge unit.
                </p>
            </dd>
            <dt>z</dt>
            <dd>
                <p>
                    The Z-coordinate of an offset-position. The object will rotate to face
                    <var>other</var>'s position plus the offset position. Allowed values are integer constants between -128 and 127, inclusive, where 10 is equal to one Forge unit.
                </p>
            </dd>
        </dl>
        <h2>Example</h2>

        <label class="tooltip" for="conversion" style="font-weight: bold;">Angle to Argument Converter: 
            <div class="tooltiptext">
                Use to convert angles to arguments for the face_toward function.
            </div>
        </label>
        <input name="conversion" id="conversionBox" type="number" onchange="sincos_int(this.value)">
        <pre><code>
global.object[0].face_toward(global.object[1]<span class="variable">, 0, 0, 0</span>)</code></pre>
        <h2>Notes</h2>
        <ul>
            <li>
                <p>
                    If you face an object toward itself, you can use the position offset to rotate it.
                </p>
            </li>
            <li>
                <p>
                    The object.face_toward function only affects the heading (yaw) by default, however you can adjust the pitch and roll of an object using clever placements and attachments. The following code will roll a warthog 45 degrees:
                </p>
                <pre><code>

alias adjust <span class="operator"> =</span> current_object.object[0]
alias offset <span class="operator"> =</span> current_object.object[1]
alias base <span class="operator"> =</span> current_object.object[2]

for <span class="subkeyword">each object do</span>
    if current_object<span class="function">.is_of_type</span>(warthog) then
        if adjust <span class="operator">==</span> no_object then
            offset <span class="operator">=</span> current_object<span class="function">.place_between_me_and</span>(current_object<span class="variable">, hill_marker, 0</span>)
            adjust <span class="operator">=</span> current_object<span class="function">.place_at_me</span>(<span class="variable">hill_marker, none, none, 0, 0, 0, none</span>)
            base <span class="operator">=</span> current_object<span class="function">.place_between_me_and</span>(current_object<span class="variable">, hill_marker, 0</span>)
            offset.attach_to(adjust<span class="variable">, 0, 0, 0, relative</span>)
            adjust.face_toward(adjust<span class="variable">, -1, -1, 0</span>)
            offset.detach()
            offset.attach_to(base<span class="variable">, 0, 0, 0, relative</span>)
            base.face_toward(current_object<span class="variable">, true</span>)
            offset.detach()
            offset.attach_to(current_object<span class="variable">, 0, 0, 0, relative</span>)
        end
        current_object<span class="function">.copy_rotation_from</span>(offset<span class="variable">, true</span>)
    end
end
</code></pre>
            </li>
        </ul>
        <h2>See also</h2>
        <ul>
            <li><a href="script/api/object/actions/attach_to.html">object.attach_to</a></li>
            <li><a href="script/api/object/actions/copy_rotation_from.html">object.copy_rotation_from</a></li>
            <li><a href="script/api/object/actions/get_distance_to.html">object.get_distance_to</a></li>
            <li><a href="script/api/object/actions/get_orientation.html">object.get_orientation</a></li>
            <li><a href="script/api/object/actions/get_speed.html">object.get_speed</a></li>
        </ul>

    </main>
    <script src="resources/sidebar.js"></script>
    <script src="resources/header-links.js"></script>
</body>

</html>